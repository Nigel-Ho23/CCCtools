---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# CCCtools

<!-- badges: start -->
<!-- badges: end -->

The goal of CCCtools is to provide functions to run [CellChat v2](https://github.com/jinworks/CellChat) and [CellPhoneDB v5](https://github.com/ventolab/CellphoneDB/tree/master) as well as compare their outputs. Gokce was here to check username chnage!

## Installation

### Prerequisites

Before install **CCCtools**, be sure to install the below packages via Bioconductor, as they are dependencies of CellChat:

```{r, eval = FALSE}
if (!requireNamespace("BiocManager", quietly = TRUE)) install.packages("BiocManager")

bioc_pkgs <- c(
  "BiocNeighbors", "Biobase", "BiocGenerics", "SingleCellExperiment", 
  "S4Vectors", "IRanges", "MatrixGenerics", "ComplexHeatmap"
)

missing_pkgs <- bioc_pkgs[!sapply(bioc_pkgs, requireNamespace, quietly = TRUE)]
if (length(missing_pkgs) > 0) {
  BiocManager::install(missing_pkgs, ask = FALSE, update = TRUE)
}
```

### Download package

Now, you are ready to install the development version of CCCtools:

```{r, eval=FALSE}
if (!requireNamespace("pacman", quietly = TRUE)) install.packages("pacman")
pacman::p_load_gh("nigelhojinker/CCCtools")
```

## CellPhoneDB-to-CellChatDB Mapping

Users may view this [webpage](https://cellphonedb-cellchatdb-mapping.vercel.app/) for full details on the mapping process used to map interactions across both databases.

## Example data

`seu.NL` is the Seurat object containing 2,233 cells from non-lesional human skin from four different patients. This dataset was created from the data used originally in CellChat tutorial. See this [script for how the data was generated](data-raw/demo_data.md).

```{r example}
pacman::p_load_gh("nigelhojinker/CCCtools")

data(seu.NL)

seu.NL
```

## Functions

In **CCCtools**, we provide the functions `run_cellchat()` and `run_cellphonedb()` for users to perform CellChat and CellPhoneDB (method 2) analysis directly on their processed Seurat object. 

Please refer to the following links to the documentations on running these tools on your dataset:

- [Running CellChat on Seurat object](https://github.com/nigelhojinker/CCCtools/blob/main/data-raw/Run_CellChat.md)
- [Running CellPhoneDB on Seurat object](https://github.com/nigelhojinker/CCCtools/blob/main/data-raw/Run_CellPhoneDB.md)
